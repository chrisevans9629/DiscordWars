!function(t){function e(e){for(var i,r,o=e[0],u=e[1],l=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(c&&c(e);d.length;)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={0:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;s.push([664,1]),n()}({101:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var s=n(614),r=n(1567),o=n(38),u=n(1568),l=function(t){function e(e,n,i,a,l){var c=t.call(this,n.scene.scene,50,50,[])||this;c.lvl=n;var h=n.scene.scene;c.team=o.getTeam(a.toString()),c.img=h.add.sprite(0,0,i).setOrigin(.5,.5),c.levelScale=.5;var d=new r.LevelSystem(c,h,0,40,l);d.progressBar.goodColor=255,d.progressBar.badColor=255,c.xp=d;var p=new u.HealthBar(h,0,20);c.hp=p,c.setDepth(1),c.levelScaleRatio=1.2,c.baseState=new s.GenerateState(c,n),c.baseName=h.add.text(0,-70,""+e,{color:"white",fontSize:"36px",fontFamily:"ethno"}).setOrigin(.5,.5);var f=h.add.sprite(0,0,"ring").setOrigin(.5,.5);return f.scale=0,c.ring=f,c.add(f),c.tint=c.team.tint,c.add([c.img,c.baseName,p.progressBar.bar,d.progressBar.bar]),d.progressBar.draw(),c.baseId=e,h.sys.displayList.add(c),c.scene.tweens.add({targets:c.ring,scale:.15*l,alpha:0,duration:5e3,ease:"Power2",loop:-1,hold:0,onComplete:function(){c.ring.alpha=.5,c.ring.scale=0}}),c}return a(e,t),Object.defineProperty(e.prototype,"team",{get:function(){return this._team},set:function(t){this._team=t,this.img&&this.img.setTexture(t.BaseImgKey)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levelScale",{get:function(){return this.img?this.img.scale:0},set:function(t){if(this.img){if(t==this.img.scale)return;this.tween&&this.scene.tweens.remove(this.tween),this.img.scale=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.img?this.img.tintTopLeft:0},set:function(t){this.img&&(this.img.tint=t),this.ring&&(this.ring.tint=t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.levelScale=.5},e.prototype.pulse=function(){this.tween=this.scene.tweens.add({targets:this.img,scale:this.img.scale+.05,duration:300/this.lvl.speed,ease:"Sine.easeInOut",yoyo:!0})},e}(Phaser.GameObjects.Container);e.Base=l},102:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelBase=void 0;var s=n(1569),r=n(311),o=n(620),u=n(1575),l=n(1576),c=n(148),h=n(1577),d=n(38),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._speed=1,e}return a(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this.speed!=t&&(this._speed=t,this.updateTime())},enumerable:!1,configurable:!0}),e.prototype.create=function(){r.botHandler.Level=this,this.particleEngine=new s.ParticleEngine(this),this.gameState=new o.GamePlayingState(this),this.actions=[],this.units=[];new u.SettingsView(this),new l.Sidebar(this);this.createBases(),this.ai=new h.AI(d.TeamInteraction,r.botHandler),this.createTime(),d.TeamInteraction.clearChat()},e.prototype.createTime=function(){this.second=this.time.addEvent({loop:!0,delay:1e3/this.speed,callback:this.secondPassed,callbackScope:this}),this.five=this.time.addEvent({loop:!0,delay:5e3/this.speed,callback:this.fivePassed,callbackScope:this}),this.ten=this.time.addEvent({loop:!0,delay:1e4/this.speed,callback:this.tenPassed,callbackScope:this})},e.prototype.updateTime=function(){this.five&&(this.five.destroy(),this.five=null),this.second&&(this.second.destroy(),this.second=null),this.ten&&(this.ten.destroy(),this.ten=null),this.createTime()},e.prototype.tenPassed=function(){var t=this;this.units.forEach((function(e){t.physics.overlap(e.unitImg,t.units.map((function(t){return t.unitImg})),t.collission,null,t)}))},e.prototype.collission=function(t,e){c.CombineUnits(t.parentContainer,e.parentContainer,this)},e.prototype.fivePassed=function(){this.ai.makeMove(this.bases,this.units)},e.prototype.secondPassed=function(){this.bases.forEach((function(t){t.baseState.secondPassed()}))},e.prototype.destroyUnit=function(t){t.destroy(),this.units=this.units.filter((function(e){return e!==t})),this.actions.forEach((function(e){return e.units=e.units.filter((function(e){return e!==t}))}))},e.prototype.reset=function(){var t=this;this.units.forEach((function(e){return t.destroyUnit(e)})),this.units=[],this.bases.forEach((function(t){return t.destroy()})),this.createBases(),this.gameState=new o.GamePlayingState(this)},e.prototype.createBases=function(){},e.prototype.update=function(t,e){this.gameState.update();var n=1e3/e;this.fps=n},e}(Phaser.Scene);e.LevelBase=p},148:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CombineUnits=e.UnitState=void 0;var s=n(310),r=n(44),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.update=function(){var t=this.Scene;this.Scene.physics.overlap(this.Unit.unitImg,t.units.map((function(t){return t.unitImg})),this.collission,null,this)},e.prototype.removing=function(t){},e.prototype.collission=function(t,e){var n=t.parentContainer,i=e.parentContainer,a=this.Scene;if(n.team.teamId!=i.team.teamId){var s=n.value;n.value-=i.value,i.value-=s,n.value<=0&&(a.destroyUnit(n),a.particleEngine.explosion(n.x,n.y,10,.05,500,n.team.tint),r.soundSystem.playRandom(r.soundSystem.hitSounds)),i.value<=0&&(a.destroyUnit(i),a.particleEngine.explosion(i.x,i.y,10,.05,500,i.team.tint),r.soundSystem.playRandom(r.soundSystem.hitSounds))}else a.fps<=55&&u(n,i,a)},e}(s.State);function u(t,e,n){t.value+=e.value,t.scale=t.maxScale,n.destroyUnit(e)}e.UnitState=o,e.CombineUnits=u},1565:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level1=void 0;var s=n(101),r=n(85),o=n(38),u=function(t){function e(){var e=t.call(this,"level1")||this;return e.title="Level 1",e.description="Let's keep it simple",e}return a(e,t),e.prototype.create=function(){var e=this.scale.width/2,n=this.scale.height/2;this.circle1=new Phaser.Geom.Circle(e,n,n/2),t.prototype.create.call(this)},e.prototype.createBases=function(){var t=this;this.bases=[];[[1,1],[2,-1],[3,-1],[4,-1],[5,2],[6,-1],[7,-1],[8,-1]].forEach((function(e){var n=e[1],i=new s.Base(e[0],t,o.teams.find((function(t){return t.teamId==n})).BaseImgKey,n,3);n<0&&(i.baseState=new r.NeutralState(i,t)),t.bases.push(i)})),this.placeOnCircle()},e.prototype.placeOnCircle=function(){var t=this.scale.width/2,e=this.scale.height/2;this.circle1.x=t,this.circle1.y=e,this.circle1.radius=e/1.3,this.bases=Phaser.Actions.PlaceOnCircle(this.bases,this.circle1)},e}(n(102).LevelBase);e.Level1=u,e.default=u},1566:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Unit=void 0;var s=n(615),r=function(t){function e(e,n,i,a){var r=t.call(this,e.scene.scene,n.x,n.y,[])||this;return r.team=i,r.currentBase=n,r.unitImg=e.physics.add.image(0,0,a).setOrigin(.5,.5),r.scale=.08,r.maxScale=.16,r._unitState=new s.SpawnState(r,e),r.value=1,r.tint=r.team.tint,r.add(r.unitImg),e.sys.displayList.add(r),r}return a(e,t),Object.defineProperty(e.prototype,"tint",{get:function(){return this.unitImg?this.unitImg.tintTopLeft:0},set:function(t){this.unitImg&&(this.unitImg.tint=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unitState",{get:function(){return this._unitState},set:function(t){this._unitState.removing(t),this._unitState=t},enumerable:!1,configurable:!0}),e}(Phaser.GameObjects.Container);e.Unit=r},1567:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LevelSystem=void 0;var i=n(617),a=n(618),s=n(44),r=function(){function t(t,e,n,i,s){this.rings=[],this.scale=t,this.reset(),this.maxLevel=s,this.progressBar=new a.ProgressBar(e,n,i),this.progressBar.alpha=.5,this.progressBar.draw()}return t.prototype.reset=function(){this.level=1,this.nextLevel=20,this.experience=0,this.nextRatio=1.5,this.scale.reset()},t.prototype.upgrade=function(t){if(this.level==this.maxLevel)return{valueUsed:0,shouldDestroy:!1};var e={health:this.experience,maxHealth:this.nextLevel},n=i.addHealth(t,e);this.experience=e.health;var a=this.experience/this.nextLevel;if(s.soundSystem.play(s.soundSystem.upgrading,1e3*a),this.experience>=this.nextLevel){this.level++;var r=this.level/this.maxLevel;s.soundSystem.play(s.soundSystem.upgraded,1e3*r),this.scale.levelScale*=this.scale.levelScaleRatio,this.level!=this.maxLevel&&(this.experience=0,this.nextLevel*=this.nextRatio)}return this.progressBar.value=this.experience,this.progressBar.maxValue=this.nextLevel,this.progressBar.draw(),n},t}();e.LevelSystem=r},1568:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HealthBar=void 0;var i=n(617),a=n(618),s=n(44),r=function(){function t(t,e,n){this.progressBar=new a.ProgressBar(t,e,n),this.progressBar.alpha=.5,this.progressBar.draw()}return Object.defineProperty(t.prototype,"health",{get:function(){return this._health},set:function(t){this._health=t,this.draw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHealth",{get:function(){return this._maxHealth},set:function(t){this._maxHealth=t,this.draw()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullHealth",{get:function(){return this.health>=this.maxHealth},enumerable:!1,configurable:!0}),t.prototype.addHealth=function(t){var e=i.addHealth(t,this);this.draw();var n=this.health/this.maxHealth;return n>=1?s.soundSystem.play(s.soundSystem.healed,0):s.soundSystem.play(s.soundSystem.healing,1e3*n),e},t.prototype.setHealth=function(t){this.health=t,this.draw()},t.prototype.decrease=function(t){return this.health-=t,this.health<0&&(this.health=0),this.draw(),0===this.health},t.prototype.draw=function(){this.progressBar.maxValue=this._maxHealth,this.progressBar.value=this._health,this.progressBar.draw()},t}();e.HealthBar=r},1569:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParticleEngine=void 0;var i=function(){function t(t){this.scene=t}return t.prototype.explosion=function(t,e,n,i,a,s){for(var r=function(n){var r=o.scene.physics.add.sprite(0,0,"particle").setOrigin(.5,.5).setScale(i).setTint(s);r.setBlendMode(Phaser.BlendModes.ADD),r.x=t+64,r.y=e+64,r.setVelocity(Phaser.Math.FloatBetween(-30,30),Phaser.Math.FloatBetween(-30,30)),r.setDepth(2),o.scene.tweens.add({targets:r,scale:0,duration:a,ease:"Sine.easeInOut",onComplete:function(t,e,n){r.destroy()}})},o=this,u=0;u<n;u++)r()},t}();e.ParticleEngine=i},1570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserAction=void 0;var i=function(){function t(t,e){this.units=[],this.user=e,this.scene=t,this.offsetY=-30,""===e.name&&(e.name="noname"),this.avatar=t.add.image(0,0,e.imgUrl).setScale(.25).setAlpha(.5).setDepth(3),this.text=t.add.text(0,0,"",{fontSize:"20px",color:"white",fontFamily:"ethno"})}return t.prototype.update=function(){var t=this;if(this.units.length<=0)return this.text.destroy(),this.avatar.destroy(),void(this.scene.actions=this.scene.actions.filter((function(e){return e!==t})));var e=this.units.map((function(t){return new Phaser.Math.Vector2(t.x,t.y)})).reduce((function(t,e){return new Phaser.Math.Vector2(t.x+e.x,t.y+e.y)})),n=new Phaser.Math.Vector2(e.x/this.units.length,e.y/this.units.length);this.text.x=n.x,this.text.y=n.y,this.avatar.x=n.x,this.avatar.y=n.y+this.offsetY},t}();e.UserAction=i},1571:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MoveState=void 0;var s=n(619),r=n(148),o=n(309),u=function(t){function e(e,n,i,a){var s=t.call(this,e,n)||this;return s.speed=1,s.toBase=i,s.user=a,s.speed*=n.speed,a.units.push(e),s}return a(e,t),e.prototype.removeFromAction=function(){var t=this;this.user.units=this.user.units.filter((function(e){return e!==t.Unit}))},e.prototype.removing=function(t){this.removeFromAction()},e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.toBase.x-this.Unit.x,this.toBase.y-this.Unit.y);e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.toBase.x,this.toBase.y)<40&&(this.toBase.team.teamId==this.Unit.team.teamId&&this.toBase.hp.isFullHealth?(this.removeFromAction(),this.Unit.unitState=new o.OrbitState(this.Unit,this.Scene)):(this.removeFromAction(),this.Unit.unitState=new s.AttackState(this.Unit,this.Scene,this.toBase)),this.Unit.currentBase=this.toBase),t.prototype.update.call(this)},e}(r.UnitState);e.MoveState=u},1572:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ResumeState=void 0;var s=function(t){function e(e){var n=t.call(this,e)||this;return e.time.paused=!1,n}return a(e,t),e}(n(621).GameState);e.ResumeState=s},1573:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameOverState=void 0;var s=n(1574),r=function(t){function e(e,n){var i=t.call(this,e)||this;console.log("game over!");new s.GameOverView(e.scene.scene,n);return i}return a(e,t),e}(n(622).PauseState);e.GameOverState=r},1574:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameOverView=void 0;var i=n(44),a=n(197),s=function(t,e){var n=this;this.view=t.add.dom(t.scale.width/2,t.scale.height/2).setOrigin(.5,.5).createFromCache(a.assets.gameOver),this.view.getChildByID("title").textContent="team "+e+" won!",this.view.getChildByID("reset").onclick=function(t){n.view.destroy(),n.view.removeElement(),i.reset()}};e.GameOverView=s},1575:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsView=void 0;var i=n(44),a=n(622),s=n(620),r=function(){function t(t){var e=this;this.isSettings=!0,this.helpOpen=!1,this.lvl=t;var n=t.scene.scene;this.view=n.add.dom(n.scale.width,0).setOrigin(1,0).createFromCache("settings");var a=this.view.getChildByID("settings"),s=this.view.getChildByID("isSettings"),r=this.view.getChildByID("saveSettings"),o=this.view.getChildByID("help"),u=this.view.getChildByID("isHelp");o.onclick=function(t){e.helpOpen=!e.helpOpen,u.hidden=!e.helpOpen},u.hidden=!this.helpOpen;var l=this.view.getChildByID("master"),c=this.view.getChildByID("music"),h=this.view.getChildByID("effects"),d=this.view.getChildByID("speed");s.hidden=this.isSettings,this.view.getChildByID("exit").onclick=function(t){n.scene.start("LevelSelect")},r.onclick=function(n){t.speed=Number(d.value),i.updateVolume(Number(c.value),Number(h.value),Number(l.value)),e.isSettings=!e.isSettings,s.hidden=e.isSettings,e.updatestate()},this.updatestate(),a.onclick=function(n){e.isSettings=!e.isSettings,s.hidden=e.isSettings;var a=i.getVolumes();h.value=a.effects.toString(),c.value=a.music.toString(),l.value=a.master.toString(),d.value=t.speed.toString(),e.updatestate()}}return t.prototype.updatestate=function(){var t=this.lvl;this.isSettings?t.gameState=new s.GamePlayingState(t):t.gameState=new a.PauseState(t)},t}();e.SettingsView=r},1576:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sidebar=void 0;var i=n(38),a=n(197);var s=function(){function t(t){this.view=t.add.dom(0,0).setOrigin(0,0).createFromCache(a.assets.sidebar),i.TeamInteraction.renderer=this,this.render()}return t.prototype.render=function(){var t=this.view.getChildByID("players");t.innerHTML="",i.TeamInteraction.players.forEach((function(e){t.innerHTML+=function(t){var e,n="";return t.avatarUrl&&(n='<img class="avatar" src="'+t.avatarUrl+'">'),'\n    <li>\n        <div class="row">\n            <div class="col-auto">\n                '+n+'\n            </div>\n            <div class="col">\n                <p><span style="color: '+(null===(e=t.style)||void 0===e?void 0:e.color)+'">'+t.name+"</span> team "+t.team.teamId+"</p>\n            </div>\n        </div>\n    </li>\n    "}(e)}));var e=this.view.getChildByID("chat");e.innerHTML="",i.TeamInteraction.chat.forEach((function(t){var n,i,a;e.innerHTML+='\n    <li>\n        <p class="message"><span style="color: '+(null===(a=null===(i=(n=t).player)||void 0===i?void 0:i.style)||void 0===a?void 0:a.color)+'">'+n.name+":</span> "+n.message+"</p>\n    </li>\n    "}))},t}();e.Sidebar=s},1577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AI=void 0;var i=n(38),a=["get rekt","you trying?","easy...","forfeit?","lol","u suk","get clapped"],s=["wtf!","nooo","u cheating?","wat.","oof","pls","give me chance","hacks!","you been practicing?","tie?","didn't need that anyway"],r=["nice move","hmm","wait","predictable","ok..","that was a mistake","I have a plan","just like boot camp","siick"];function o(t){return t[Math.floor(Math.random()*t.length)]}var u=function(){function t(t,e){this.TeamInteraction=t,this.botHandler=e}return t.prototype.chat=function(t,e){var n=this,u=i.teams.filter((function(t){return!n.TeamInteraction.players.some((function(e){return e.team.teamId==t.teamId}))&&t.teamId>0})).filter((function(e){return t.some((function(t){return t.team.teamId==e.teamId}))})).map((function(e){return{team:e,score:t.filter((function(t){return t.team.teamId==e.teamId})).map((function(t){return t.xp.level})).reduce((function(t,e){return t+e}),0)}}));u.forEach((function(t){if(e()>.75){var l="",c=u.filter((function(t){return t.score==Math.max.apply(Math,u.map((function(t){return t.score})))})),h=u.filter((function(t){return t.score==Math.min.apply(Math,u.map((function(t){return t.score})))}));l=t.score==c[0].score&&1==c.length?o(a):t.score==h[0].score&&1==h.length?o(s):o(r);var d=new i.AIPlayer(t.team.teamId),p={message:l,player:d,name:d.name};n.botHandler.say(p),n.TeamInteraction.addChat(p)}}))},t.prototype.makeMove=function(t,e){var n=this,a=Math.max.apply(Math,t.map((function(t){return e.filter((function(e){return e.currentBase.baseId==t.baseId})).length}))),s=Math.max.apply(Math,t.map((function(t){return t.xp.maxLevel})));t.filter((function(t){return!n.TeamInteraction.players.some((function(e){return e.team.teamId==t.team.teamId}))&&t.team.teamId>0})).forEach((function(r){var o=t.map((function(t){return Phaser.Math.Distance.Between(t.x,t.y,r.x,r.y)})),u=Math.max.apply(Math,o),l=t.map((function(t){return n.calculateScore({current:r,attack:t,units:e,maxDistance:u,maxLevel:s,maxUnits:a})})).sort((function(t,e){return t.score-e.score})).pop();l&&(l.base.baseId==r.baseId?n.botHandler.upgrade(r.baseId,r.team.teamId):n.botHandler.move(r.baseId,l.base.baseId,100,new i.AIPlayer(r.team.teamId)))})),this.chat(t,Math.random)},t.prototype.calculateScore=function(t){var e=t.current,n=t.attack,i=t.units,a=n.xp.maxLevel/t.maxLevel,s=n.hp.health/n.hp.maxHealth,r=n.team.teamId==e.team.teamId,o=0;r||(s=-s,o=1);var u=0;void 0!==n.baseState.fromTint&&n.team.teamId==e.team.teamId&&(u=1);var l=0;r&&1!=n.hp.isFullHealth&&(l=1);var c=0;e.baseId==n.baseId&&e.xp.level<e.xp.maxLevel&&(c=1);var h=i.filter((function(t){return t.currentBase.baseId==n.baseId&&t.team.teamId==n.team.teamId})).length/t.maxUnits;i.filter((function(t){return t.currentBase.baseId==n.baseId&&t.team.teamId!=n.team.teamId})).length,t.maxUnits;return{score:a-2*h-2*(Phaser.Math.Distance.Between(e.x,e.y,n.x,n.y)/t.maxDistance)+o+u+l+2*c+Phaser.Math.FloatBetween(0,1),base:n}},t}();e.AI=u},1578:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MainMenu=void 0;var s=n(197),r=n(44),o=n(101),u=n(38),l=n(85),c=function(t){function e(){return t.call(this,"MainMenu")||this}return a(e,t),e.prototype.preload=function(){this.load.html(s.assets.sidebar,"assets/html/sidebar.html"),this.load.html(s.assets.debug,"assets/html/debug.html"),this.load.html(s.assets.settings,"assets/html/settings.html"),this.load.html(s.assets.gameOver,"assets/html/gameover.html"),this.load.html(s.assets.mainMenu,"assets/html/mainmenu.html"),this.load.image("base","assets/images/base.png"),this.load.image("AI","assets/images/bot1.png"),this.load.image("ring","assets/images/ring1.png"),this.load.image("particle","assets/images/white.png"),r.soundSystem.load(this.load)},e.prototype.create=function(){var e=this;t.prototype.create.call(this),r.soundSystem.start(),this.add.dom(this.scale.width/2,this.scale.height/2).createFromCache(s.assets.mainMenu).getChildByID("play").onclick=function(t){e.scene.start("LevelSelect")}},e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/3,this.scale.height/3);[{id:1,team:1,xCell:1,yCell:1,maxLvl:2},{id:2,team:2,xCell:1,yCell:2,maxLvl:2},{id:3,team:3,xCell:2,yCell:1,maxLvl:2},{id:4,team:4,xCell:2,yCell:2,maxLvl:2}].forEach((function(n){var i=n.team,a=new o.Base(n.id,t,u.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new l.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(n(102).LevelBase);e.MainMenu=c},1579:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LevelSelect=void 0;var s=n(44),r=function(t){function e(){return t.call(this,"LevelSelect")||this}return a(e,t),e.prototype.preload=function(){this.load.html("levelselect","assets/html/levelselect.html")},e.prototype.create=function(){this.view=this.add.dom(0,0).setOrigin(0,0).createFromCache("levelselect");var t=this.view.node;t.style.overflowY="scroll",t.style.height=this.scale.height+"px",t.style.width=this.scale.width+"px";var e=this.view.getChildByID("levels"),n=s.Levels.slice().reverse();for(var i,a="";n.length>0;){a+='<div class="row">';for(var r=0;r<3;r++){var o=n.pop();o&&(a+='<div class="col">'+('\n            <div class="d-flex justify-content-center flex-column text-center p-2 mt-4">\n                <h2>'+(i=o).title+"</h2>\n                <p>"+i.description+'</p>\n                <button class="btn" id="'+i.sys.settings.key+'">Play</button>\n            </div></div>'))}a+="</div>"}e.innerHTML+=a,this.view.setInteractive(),this.view.addListener("click");var u=this;this.view.on("click",(function(t){var e=t.target;e instanceof HTMLButtonElement==1&&(u.scene.start(e.id),u.view.destroy())}),this)},e}(Phaser.Scene);e.LevelSelect=r},1580:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level2=void 0;var s=n(101),r=n(102),o=n(38),u=n(85),l=function(t){function e(){var e=t.call(this,"level2")||this;return e.title="Level 2",e.description="Uneven Odds",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/4,this.scale.height/4);[{id:1,team:-1,xCell:1,yCell:1,maxLvl:2},{id:2,team:1,xCell:1,yCell:2,maxLvl:1},{id:3,team:-1,xCell:1,yCell:3,maxLvl:2},{id:4,team:-1,xCell:2,yCell:2,maxLvl:3},{id:5,team:-1,xCell:3,yCell:1,maxLvl:2},{id:6,team:2,xCell:3,yCell:2,maxLvl:1},{id:7,team:-1,xCell:3,yCell:3,maxLvl:2}].forEach((function(n){var i=n.team,a=new s.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new u.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(r.LevelBase);e.Level2=l},1581:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundSystem=void 0;var i=n(1582),a=function(){function t(t){this.soundVolume=Number(i.getCache("sound","1")),this.musicVolume=Number(i.getCache("music","1")),this.masterVolume=Number(i.getCache("master","1")),this.sound=t,this.sound.pauseOnBlur=!1}return t.prototype.load=function(t){t.audio("theme","assets/audio/discordwars.wav"),t.audio("exp_9","assets/audio/Explosion9.wav"),t.audio("exp_10","assets/audio/Explosion10.wav"),t.audio("exp_11","assets/audio/Explosion11.wav"),t.audio("exp_14","assets/audio/Explosion14.wav"),t.audio("blip_5","assets/audio/Blip_Select5.wav"),t.audio("blip_6","assets/audio/Blip_Select6.wav"),t.audio("blip_7","assets/audio/Blip_Select7.wav"),t.audio("blip_8","assets/audio/Blip_Select8.wav"),t.audio("hit_7","assets/audio/Hit_Hurt7.wav"),t.audio("hit_8","assets/audio/Hit_Hurt8.wav"),t.audio("hit_9","assets/audio/Hit_Hurt9.wav"),t.audio("hit_10","assets/audio/Hit_Hurt10.wav"),t.audio("hit_11","assets/audio/Hit_Hurt11.wav"),t.audio("death","assets/audio/Death.wav"),t.audio("healed","assets/audio/Healed.wav"),t.audio("healing","assets/audio/Healing.wav"),t.audio("upgrading","assets/audio/Upgrade2.wav"),t.audio("upgraded","assets/audio/UpgradeComplete3.wav")},t.prototype.start=function(){this.explosionSounds||(this.destroyed=this.sound.add("death"),this.healed=this.sound.add("healed"),this.healing=this.sound.add("healing"),this.upgraded=this.sound.add("upgraded"),this.upgrading=this.sound.add("upgrading"),this.explosionSounds=[this.sound.add("exp_9"),this.sound.add("exp_10"),this.sound.add("exp_11"),this.sound.add("exp_14")],this.blipSounds=[this.sound.add("blip_5"),this.sound.add("blip_6"),this.sound.add("blip_7"),this.sound.add("blip_8")],this.hitSounds=[this.sound.add("hit_7"),this.sound.add("hit_8"),this.sound.add("hit_9"),this.sound.add("hit_10"),this.sound.add("hit_11")],this.music=this.sound.add("theme",{loop:!0}),this.music.play({volume:this.musicVolume*this.masterVolume,loop:!0}))},t.prototype.updateVolume=function(t,e,n){this.musicVolume=t,this.soundVolume=e,this.masterVolume=n,localStorage.setItem("master",n.toString()),localStorage.setItem("sound",e.toString()),localStorage.setItem("music",t.toString()),this.music.play({volume:this.musicVolume*this.masterVolume,loop:!0})},t.prototype.play=function(t,e){t.play({volume:this.masterVolume*this.soundVolume,detune:e})},t.prototype.playRandom=function(t){t[Math.floor(Math.random()*t.length)].play({volume:this.masterVolume*this.soundVolume})},t}();e.SoundSystem=a},1582:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCache=void 0,e.getCache=function(t,e){var n=localStorage.getItem(t);return n||e}},1583:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level3=void 0;var s=n(101),r=n(102),o=n(38),u=n(85),l=function(t){function e(){var e=t.call(this,"level3")||this;return e.title="Level 3",e.description="3 Teams",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:3,maxLvl:1},{id:2,team:-1,xCell:2,yCell:3,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3},{id:4,team:-1,xCell:4,yCell:2,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:6,team:-1,xCell:4,yCell:4,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1}].forEach((function(n){var i=n.team,a=new s.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new u.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(r.LevelBase);e.Level3=l},1584:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level4=void 0;var s=n(101),r=n(102),o=n(38),u=n(85),l=function(t){function e(){var e=t.call(this,"level4")||this;return e.title="Level 4",e.description="4 Teams",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];var e=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:1,maxLvl:1},{id:2,team:-1,xCell:2,yCell:2,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3},{id:4,team:-1,xCell:4,yCell:2,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:6,team:-1,xCell:4,yCell:4,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1},{id:8,team:4,xCell:1,yCell:5,maxLvl:1},{id:9,team:-1,xCell:2,yCell:4,maxLvl:1}].forEach((function(n){var i=n.team,a=new s.Base(n.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,n.maxLvl);i<0&&(a.baseState=new u.NeutralState(a,t)),a.x=e.x*n.xCell,a.y=e.y*n.yCell,t.bases.push(a)}))},e}(r.LevelBase);e.Level4=l},1585:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Level5=void 0;var s=n(101),r=n(102),o=n(38),u=n(85),l=function(t){function e(){var e=t.call(this,"level5")||this;return e.title="Level 5",e.description="I feel dizzy...",e}return a(e,t),e.prototype.create=function(){var e=this.scale.width/2,n=this.scale.height/2;this.circle=new Phaser.Geom.Circle(e,n,n/2),t.prototype.create.call(this)},e.prototype.createBases=function(){var t=this;this.bases=[],this.circleBases=[];var e=[{id:2,team:-1,xCell:2,yCell:2,maxLvl:2},{id:4,team:-1,xCell:4,yCell:2,maxLvl:2},{id:6,team:-1,xCell:4,yCell:4,maxLvl:2},{id:9,team:-1,xCell:2,yCell:4,maxLvl:2}],n=new Phaser.Math.Vector2(this.scale.width/6,this.scale.height/6);[{id:1,team:1,xCell:1,yCell:1,maxLvl:1},{id:5,team:2,xCell:5,yCell:1,maxLvl:1},{id:7,team:3,xCell:5,yCell:5,maxLvl:1},{id:8,team:4,xCell:1,yCell:5,maxLvl:1},{id:3,team:-1,xCell:3,yCell:3,maxLvl:3}].concat(e).forEach((function(e){var i=e.team,a=new s.Base(e.id,t,o.teams.find((function(t){return t.teamId==i})).BaseImgKey,i,e.maxLvl);i<0&&(a.baseState=new u.NeutralState(a,t)),a.x=n.x*e.xCell,a.y=n.y*e.yCell,t.bases.push(a)})),this.circleBases=this.bases.filter((function(t){return e.some((function(e){return e.id==t.baseId}))})),Phaser.Actions.PlaceOnCircle(this.circleBases,this.circle)},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n),Phaser.Actions.RotateAround(this.circleBases,this.circle,.001)},e}(r.LevelBase);e.Level5=l},1586:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Login=void 0;var s=n(197),r=n(1587),o=function(t){function e(){return t.call(this,"login")||this}return a(e,t),e.prototype.preload=function(){this.load.html(s.assets.login,"assets/html/login.html")},e.prototype.create=function(){var t=this.scale.width/2,e=this.scale.height/2;new r.LoginView(this,t,e)},e}(Phaser.Scene);e.Login=o},1587:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,s){function r(t){try{u(i.next(t))}catch(t){s(t)}}function o(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,a,s,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&s[0]?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.LoginView=void 0;var s=n(1588),r=function(){function t(t,e,n){var i=this;this.goTo="MainMenu",this.view=t.add.dom(e,n).createFromCache("login"),this.scene=t;var a=this.view;this.trylogin(),a.getChildByName("login").onclick=function(){var e=a.getChildByName("token");a.destroy(),s.model.methods.tokenLogin(e.value),t.scene.start(i.goTo)}}return t.prototype.trylogin=function(){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,s.TryLogin()];case 1:return t.sent()&&(this.view.destroy(),this.scene.scene.start(this.goTo)),[2]}}))}))},t}();e.LoginView=r},1588:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(a,s){function r(t){try{u(i.next(t))}catch(t){s(t)}}function o(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,a,s,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=2&s[0]?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(6===s[0]&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t],i=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.model=e.TryLogin=void 0;var s=n(623),r=n(204),o={el:"#app",data:{},mounted:function(){},methods:{tokenLogin:function(t){return i(this,void 0,void 0,(function(){var e,n;return a(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.default(t)];case 1:return e=i.sent(),this.token=null,r.toastInfo("ready!"),sessionStorage.setItem("magic",e),this.showToken=!1,[2,!0];case 2:return n=i.sent(),console.log(n),r.toastError(n),[2,!1];case 3:return[2]}}))}))}}};e.model=o,e.TryLogin=function(){return i(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return(t=sessionStorage.getItem("magic"))?[4,o.methods.tokenLogin(t)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,!1]}}))}))}},1596:function(t,e){},1615:function(t,e){},1617:function(t,e){},1650:function(t,e){},1653:function(t,e){},1657:function(t,e){},1658:function(t,e){},1659:function(t,e,n){var i={"./CHANNEL_CREATE.js":1660,"./CHANNEL_DELETE.js":1661,"./CHANNEL_PINS_UPDATE.js":1662,"./CHANNEL_UPDATE.js":1663,"./GUILD_BAN_ADD.js":1664,"./GUILD_BAN_REMOVE.js":1665,"./GUILD_CREATE.js":1666,"./GUILD_DELETE.js":1667,"./GUILD_EMOJIS_UPDATE.js":1668,"./GUILD_INTEGRATIONS_UPDATE.js":1669,"./GUILD_MEMBERS_CHUNK.js":1670,"./GUILD_MEMBER_ADD.js":1671,"./GUILD_MEMBER_REMOVE.js":1672,"./GUILD_MEMBER_UPDATE.js":1673,"./GUILD_ROLE_CREATE.js":1674,"./GUILD_ROLE_DELETE.js":1675,"./GUILD_ROLE_UPDATE.js":1676,"./GUILD_UPDATE.js":1677,"./INVITE_CREATE.js":1678,"./INVITE_DELETE.js":1679,"./MESSAGE_CREATE.js":1680,"./MESSAGE_DELETE.js":1681,"./MESSAGE_DELETE_BULK.js":1682,"./MESSAGE_REACTION_ADD.js":1683,"./MESSAGE_REACTION_REMOVE.js":1684,"./MESSAGE_REACTION_REMOVE_ALL.js":1685,"./MESSAGE_REACTION_REMOVE_EMOJI.js":1686,"./MESSAGE_UPDATE.js":1687,"./PRESENCE_UPDATE.js":1688,"./READY.js":1689,"./RESUMED.js":1690,"./TYPING_START.js":1691,"./USER_UPDATE.js":1692,"./VOICE_SERVER_UPDATE.js":1693,"./VOICE_STATE_UPDATE.js":1694,"./WEBHOOKS_UPDATE.js":1695,"./index.js":658};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id=1659},1696:function(t,e){},1697:function(t,e){},1698:function(t,e){},1699:function(t,e){},1700:function(t,e){},1702:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Random=void 0;var s=n(101),r=n(102),o=n(38),u=n(85),l=function(t){function e(){var e=t.call(this,"levelRandom")||this;return e.title="Random",e.description="Play your luck",e}return a(e,t),e.prototype.createBases=function(){var t=this;this.bases=[];for(var e=Phaser.Math.Between(4,9),n=[],i=0;i<9;i++)for(var a=0;a<9;a++)n.push({x:i+1,y:a+1});for(var r=[],l=0;l<e;l++){var c=l+1,h=n.filter((function(t){return 1!=r.some((function(e){return e.xCell==t.x&&e.yCell==t.y}))})),d=h[Math.floor(Math.random()*h.length)];r.push({id:c,team:-1,xCell:d.x,yCell:d.y,maxLvl:Phaser.Math.Between(1,3)})}var p=Phaser.Math.Between(2,4);for(i=0;i<p;i++){var f=r.filter((function(t){return t.team<0}));f[Math.floor(Math.random()*f.length)].team=i+1}var m=new Phaser.Math.Vector2(this.scale.width/10,this.scale.height/10);r.forEach((function(e){var n=e.team,i=new s.Base(e.id,t,o.teams.find((function(t){return t.teamId==n})).BaseImgKey,n,e.maxLvl);n<0&&(i.baseState=new u.NeutralState(i,t)),i.x=m.x*e.xCell,i.y=m.y*e.yCell,t.bases.push(i)}))},e}(r.LevelBase);e.Random=l},197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assets=void 0,e.assets={login:"login",debug:"debug",settings:"settings",sidebar:"sidebar",gameOver:"gameover",mainMenu:"mainMenu"}},204:function(t,e,n){"use strict";function i(t){Vue.$toast.info(t)}function a(t){Vue.$toast.error(t)}n.r(e),n.d(e,"toastInfo",(function(){return i})),n.d(e,"toastError",(function(){return a})),Vue.use(VueToast,{position:"top"})},309:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OrbitState=void 0;var s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.speed=Phaser.Math.FloatBetween(-.005,.005)*n.speed,i}return a(e,t),e.prototype.update=function(){t.prototype.update.call(this),Phaser.Actions.RotateAround([this.Unit],this.Unit.currentBase,this.speed)},e}(n(148).UnitState);e.OrbitState=s},310:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var i=function(){function t(t,e){this.Unit=t,this.Scene=e}return t.prototype.update=function(){},t}();e.State=i},311:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.botHandler=e.BotHandler=void 0;var i=n(44),a=n(309),s=n(619),r=n(1570),o=n(1571),u=function(){function t(){}return t.prototype.say=function(t){if(this.Level){var e=this.Level.actions.filter((function(e){return e.user.name==t.name}));if(e.length>0){var n=e[0];if(n.text.text=""+t.message,t.message.length>10){var a=.05*t.message.length;n.text.setFontSize(20/a)}else n.text.setFontSize(20)}i.soundSystem.playRandom(i.soundSystem.blipSounds)}},t.prototype.upgrade=function(t,e){var n=this;this.Level&&(this.Level.units.filter((function(n){return n.currentBase.baseId==t&&n.unitState instanceof a.OrbitState&&n.team.teamId==e})).forEach((function(t){t.unitState=new s.AttackState(t,n.Level,t.currentBase)})),i.soundSystem.playRandom(i.soundSystem.blipSounds))},t.prototype.retreat=function(t,e){var n=this;if(this.Level){if(!this.Level.bases.some((function(e){return e.baseId==t})))return{success:!1,reason:"base "+t+" does not exist."};var a=new r.UserAction(this.Level,e);this.Level.actions.push(a);var s=this.Level.units.filter((function(n){return n.unitState instanceof o.MoveState&&n.unitState.toBase.baseId==t&&n.team.teamId==e.team.teamId}));return 0==s.length?{success:!1,reason:"no units found moving to base "+t}:(s.forEach((function(t){t.unitState=new o.MoveState(t,n.Level,t.currentBase,a)})),i.soundSystem.playRandom(i.soundSystem.blipSounds),{success:!0,reason:s.length+" are retreating!"})}},t.prototype.moveAll=function(t,e,n){var a=this;if(this.Level){var s=this.Level.bases.find((function(e){return e.baseId==t}));if(!s)return{success:!1,reason:"to base "+t+" does not exist"};var u=new r.UserAction(this.Level,n);this.Level.actions.push(u);var l=this.Level.units.filter((function(t){return t.unitState instanceof o.MoveState!=1&&t.team.teamId==n.team.teamId})).slice(0,e);return 0==l.length?{success:!1,reason:"did not find units"}:(l.forEach((function(t){t.unitState=new o.MoveState(t,a.Level,s,u)})),i.soundSystem.playRandom(i.soundSystem.blipSounds),{success:!0,reason:"moving "+l.length+" units to "+t})}},t.prototype.move=function(t,e,n,a){var s=this;if(this.Level){var u=this.Level.bases.find((function(t){return t.baseId==e}));if(!u)return{success:!1,reason:"to base "+e+" does not exist"};var l=new r.UserAction(this.Level,a);this.Level.actions.push(l);var c=this.Level.units.filter((function(e){return e.currentBase.baseId==t&&e.unitState instanceof o.MoveState!=1&&e.team.teamId==a.team.teamId})).slice(0,n);return 0==c.length?{success:!1,reason:"did not find units at base "+t}:(c.forEach((function(t){t.unitState=new o.MoveState(t,s.Level,u,l)})),i.soundSystem.playRandom(i.soundSystem.blipSounds),{success:!0,reason:"moving "+c.length+" units from "+t+" to "+e})}},t}();e.BotHandler=u,e.botHandler=new u},38:function(t,e,n){"use strict";function i(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function a(t){return e.teams.find((function(e){return e.teamId==Number(t)||e.names.some((function(e){return e==t.toLocaleLowerCase()}))}))}function s(t){var e=a(t.toString()).color;return"rgb("+e[0]+","+e[1]+","+e[2]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.TeamInteraction=e.AIPlayer=e.getColor=e.getTeam=e.teams=e.tween=e.rgbToHex=e.componentToHex=void 0,e.componentToHex=i,e.rgbToHex=function(t,e,n){var a=i(t)+i(e)+i(n);return parseInt(a,16)},e.tween=function(t){var e=t.from;return e+(t.to-e)*t.percent},e.teams=[{teamId:1,names:["red","r"],BaseImgKey:"base",UnitImgKey:"base",color:[255,0,0],tint:16711680},{teamId:2,names:["blue","b"],BaseImgKey:"base",UnitImgKey:"base",color:[0,0,255],tint:255},{teamId:3,names:["green","g"],BaseImgKey:"base",UnitImgKey:"base",color:[0,255,0],tint:65280},{teamId:4,names:["yellow","y"],BaseImgKey:"base",UnitImgKey:"base",color:[255,255,0],tint:16776960},{teamId:-1,names:["neutral"],BaseImgKey:"base",UnitImgKey:"base",color:[255,255,255],tint:16777215}],e.getTeam=a,e.getColor=s;var r=function(t){this.avatarUrl=null;var e=a(t.toString());this.name="AI-"+e.teamId,this.imgUrl="AI",this.team=e,this.style={color:s(t)}};e.AIPlayer=r;var o=function(){function t(){this._chat=[],this._players=[]}return Object.defineProperty(t.prototype,"chat",{get:function(){return this._chat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"players",{get:function(){return this._players},enumerable:!1,configurable:!0}),t.prototype.clearChat=function(){this._chat=[],this.renderer&&this.renderer.render()},t.prototype.addChat=function(t){this._chat.unshift(t),this._chat.length>10&&this._chat.pop(),this.renderer&&this.renderer.render()},t.prototype.addPlayer=function(t){this._players.push(t),this.renderer&&this.renderer.render()},t.prototype.removePlayer=function(t){this._players=this._players.filter((function(e){return e.name!=t})),this.renderer&&this.renderer.render()},t}();e.TeamInteraction=new o},44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getVolumes=e.updateVolume=e.addAvatar=e.say=e.reset=e.upgrade=e.retreat=e.move=e.game=e.soundSystem=e.Levels=void 0;var i=n(665),a=n(1565),s=n(1578),r=n(1579),o=n(1580),u=n(1581),l=n(311),c=n(1583),h=n(1584),d=n(1585),p=n(1586),f=n(1702),m={type:i.AUTO,physics:{default:"arcade",arcade:{debug:!1}},dom:{createContainer:!0},scale:{mode:i.Scale.RESIZE,width:"100%",height:"100%",parent:"game-parent"}},v=new i.Game(m);e.game=v;var y=new s.MainMenu,_=new r.LevelSelect;e.Levels=[new a.default,new o.Level2,new c.Level3,new h.Level4,new d.Level5,new f.Random],v.scene.add("MainMenu",y),v.scene.add("LevelSelect",_),v.scene.add("login",new p.Login),e.Levels.forEach((function(t){var e=t;v.scene.add(t.sys.settings.key,e)})),v.scene.start("login"),e.soundSystem=new u.SoundSystem(v.sound);var g=l.botHandler;e.move=function(t,e,n,i){return g.move(t,e,n,i)},e.retreat=function(t,e){return g.retreat(t,e)},e.upgrade=function(t,e){return g.upgrade(t,e)},e.reset=function(){g.Level.reset()},e.say=function(t){g.say(t)},e.addAvatar=function(t){g.Level.load.image(t.imgUrl,t.avatarUrl),g.Level.load.start()},e.updateVolume=function(t,n,i){e.soundSystem.updateVolume(t,n,i)},e.getVolumes=function(){return{music:e.soundSystem.musicVolume,effects:e.soundSystem.soundVolume,master:e.soundSystem.masterVolume}}},614:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GenerateState=void 0;var s=n(1566),r=n(616),o=n(85),u=n(44),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return e.hp.maxHealth=50,e.hp.health=50,i}return a(e,t),e.prototype.secondPassed=function(){for(var t=this.Scene,e=0;e<this.Unit.xp.level;e++){var n=new s.Unit(t,this.Unit,this.Unit.team,this.Unit.team.UnitImgKey);n.currentBase=this.Unit,t.units.push(n)}this.Unit.pulse()},e.prototype.unitHit=function(e){var n={valueUsed:0,shouldDestroy:!1};return t.prototype.unitHit.call(this,e),e.team.teamId==this.Unit.team.teamId?n=this.Unit.hp.health<this.Unit.hp.maxHealth?this.Unit.hp.addHealth(e.value):this.Unit.xp.upgrade(e.value):(n=this.Unit.hp.addHealth(-e.value),this.damageEffect()),0==this.Unit.hp.health?(this.Unit.baseState=new o.NeutralState(this.Unit,this.Scene),u.soundSystem.play(u.soundSystem.destroyed,0)):this.Unit.hp.health<0&&(this.Unit.hp.setHealth(-this.Unit.hp.health),this.Unit.team=e.team,this.Unit.tint=this.Unit.team.tint,this.Unit.xp.reset(),u.soundSystem.play(u.soundSystem.destroyed,0)),n},e}(r.BaseState);e.GenerateState=l},615:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpawnState=void 0;var s=n(309),r=function(t){function e(e,n){var i=t.call(this,e,n)||this,a=Phaser.Math.FloatBetween(-1,1),s=Phaser.Math.FloatBetween(-1,1),r=new Phaser.Math.Vector2(a,s).normalize();return i.speed=1*n.speed,i.distance=Phaser.Math.FloatBetween(40,75),i.destination=new Phaser.Math.Vector2(e.x+r.x*i.distance,e.y+r.y*i.distance),i}return a(e,t),e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.destination.x-this.Unit.x,this.destination.y-this.Unit.y);e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.destination.x,this.destination.y)<5&&(this.Unit.unitState=new s.OrbitState(this.Unit,this.Scene)),t.prototype.update.call(this)},e}(n(148).UnitState);e.SpawnState=r},616:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseState=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.secondPassed=function(){},e.prototype.unitHit=function(t){return{valueUsed:0,shouldDestroy:!1}},e.prototype.damageEffect=function(){var t=this.Scene,e=30*Phaser.Math.FloatBetween(-1,1),n=30*Phaser.Math.FloatBetween(-1,1);t.particleEngine.explosion(this.Unit.x+n,this.Unit.y+e,3,.25,4e3,this.Unit.team.tint)},e}(n(310).State);e.BaseState=s},617:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addHealth=void 0,e.addHealth=function(t,e){var n=0;return t+e.health>=e.maxHealth?(n=e.maxHealth-e.health,e.health=e.maxHealth):t+e.health<=-e.maxHealth?(n=e.health+e.maxHealth,e.health=e.maxHealth):(n=Math.abs(t),e.health+=t),{valueUsed:n,shouldDestroy:n>=Math.abs(t)}}},618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;var i=function(){function t(t,e,n){this.bar=new Phaser.GameObjects.Graphics(t),this.width=80,this.height=16,this.padding=2,this.x=e,this.y=n,this.goodColor=65280,this.badColor=16711680,this.maxValue=100,this.alpha=1,this.scene=t,t.add.existing(this.bar)}return t.prototype.draw=function(){this.alpha=1,this.render(),this.tween&&this.scene.tweens.remove(this.tween),this.tween=this.scene.tweens.addCounter({from:1,to:0,duration:1e3,delay:1e3,onUpdate:function(t){var e=t.getValue();this.alpha=e,this.render()},onUpdateScope:this})},t.prototype.render=function(){this.value>this.maxValue&&(this.value=this.maxValue),this.bar.clear();var t=this.x-this.width/2,e=this.y-this.height/2,n=this.width-2*this.padding,i=this.height-2*this.padding,a=n/this.maxValue;this.bar.fillStyle(0,this.alpha),this.bar.fillRect(t,e,this.width,this.height),this.bar.fillStyle(16777215,this.alpha),this.bar.fillRect(t+this.padding,e+this.padding,n,i),this.value<this.maxValue/3?this.bar.fillStyle(this.badColor,this.alpha):this.bar.fillStyle(this.goodColor,this.alpha);var s=Math.floor(a*this.value);this.bar.fillRect(t+this.padding,e+this.padding,s,i)},t}();e.ProgressBar=i},619:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AttackState=void 0;var s=n(148),r=n(615),o=function(t){function e(e,n,i){var a=t.call(this,e,n)||this;return a.speed=1*n.speed,a.toBase=i,a}return a(e,t),e.prototype.update=function(){var e=new Phaser.Math.Vector2(this.toBase.x-this.Unit.x,this.toBase.y-this.Unit.y);if(e=e.normalize(),this.Unit.x+=e.x*this.speed,this.Unit.y+=e.y*this.speed,Phaser.Math.Distance.Between(this.Unit.x,this.Unit.y,this.toBase.x,this.toBase.y)<1){var n=this.toBase.baseState.unitHit(this.Unit);if(n.shouldDestroy)this.Scene.destroyUnit(this.Unit);else this.Unit.value-=n.valueUsed,this.Unit.unitState=new r.SpawnState(this.Unit,this.Scene)}t.prototype.update.call(this)},e}(s.UnitState);e.AttackState=o},620:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GamePlayingState=void 0;var s=n(1572),r=n(1573),o=function(t){function e(e){var n=t.call(this,e)||this;return console.log("playing!"),e.time.paused=!1,n}return a(e,t),e.prototype.update=function(){var t=this;this.Unit.units.forEach((function(t){return t.unitState.update()})),this.Unit.actions.forEach((function(t){return t.update()}));var e=this.Unit.bases.map((function(t){return t.team.teamId})).filter((function(t){return t>=0}));e.forEach((function(n){e.every((function(t){return t==n}))&&t.Unit.gameState instanceof r.GameOverState!=1&&(t.Unit.gameState=new r.GameOverState(t.Unit,n))}))},e}(s.ResumeState);e.GamePlayingState=o},621:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameState=void 0;var s=function(t){function e(e){return t.call(this,e,e)||this}return a(e,t),e}(n(310).State);e.GameState=s},622:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PauseState=void 0;var s=function(t){function e(e){var n=t.call(this,e)||this;return console.log("paused!"),e.time.paused=!0,n}return a(e,t),e}(n(621).GameState);e.PauseState=s},623:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1589),a=n(44),s=n(204),r=n(38),o=n(311),u=new i.Client;u.on("ready",(function(){console.log("Logged in as "+u.user.tag+"!")}));var l=function(t){return r.TeamInteraction.players.find((function(e){return e.name==t.author.username}))},c=function(t){var e=l(t);return e?{joined:!0,team:e}:(t.reply("you must !join first"),{joined:!1,team:e})},h=[{name:["!move","! move","!m "],execute:function(t,e){var n=c(t);if(n.joined){var i=e.split(" ").filter((function(t){return" "!=t}));if(console.log(i),"a"==i[0]||"all"==i[0])o.botHandler.moveAll(Number(i[1]),100,n.team);else if(1==i.length)o.botHandler.moveAll(Number(i[0]),100,n.team);else{var s=a.move(Number(i[0]),Number(i[1]),100,n.team);t.reply(s.reason)}}}},{name:["!join","! join","!j "],execute:function(t,e){if(e=e.replace(" ",""),l(t))t.reply("you are already joined");else{var n=r.getTeam(e);if(n){var i={team:n,name:t.author.username,style:{color:r.getColor(n.teamId)},avatarUrl:t.author.avatarURL(),imgUrl:t.author.username};r.TeamInteraction.addPlayer(i),a.addAvatar(i),s.toastInfo("player "+t.author.username+" joined!"),t.reply("joined!")}else t.reply("team '"+e+"' does not exist")}}},{name:["!upgrade","! upgrade","!u "],execute:function(t,e){var n=c(t);n.joined&&a.upgrade(Number(e),n.team.team.teamId)}},{name:["!leave","! leave","!l"],execute:function(t,e){c(t).joined&&(r.TeamInteraction.removePlayer(t.author.username),t.reply("thanks for playing!"))}},{name:["!retreat","! retreat","!r "],execute:function(t,e){var n=c(t);if(n.joined){var i=a.retreat(Number(e),n.team);t.reply(i.reason)}}},{name:["!say","! say","!s "],execute:function(t,e){var n=c(t);if(n.joined){var i={name:t.author.username,message:e,player:n.team};r.TeamInteraction.addChat(i),a.say(i)}}},{name:["!help","! help","!h"],execute:function(t,e){t.reply("!join 1 -> joins team 1\r\n!move 2 4 -> moves from base 2 to base 4\r\n!upgrade 1 -> upgrades base 1\r\n!retreat 1 -> retreats all units away from base 1\r\n!say loser -> roasts the other team\r\n!leave -> leaves the game")}}];u.on("message",(function(t){h.forEach((function(e){e.name.filter((function(e){return t.content.toLocaleLowerCase().startsWith(e)})).forEach((function(n){var i=t.content.substr(n.length,100);e.execute(t,i)}))}))})),e.default=function(t){return u.login(t)}},664:function(t,e,n){n(204),n(44),n(623)},85:function(t,e,n){"use strict";var i,a=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NeutralState=void 0;var s=n(616),r=n(614),o=n(38),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.Unit.team=o.getTeam("-1"),i.Unit.hp.setHealth(0),i.Unit.tint=i.Unit.team.tint,i.fromTint=i.Unit.team.tint,i.fromColor=i.Unit.team.color,i.Unit.hp.maxHealth=30,i.Unit.xp.reset(),i}return a(e,t),e.prototype.unitHit=function(e){var n=t.prototype.unitHit.call(this,e);this.Unit.hp.health<=0?(this.Unit.team=e.team,n=this.Unit.hp.addHealth(e.value)):this.Unit.team.teamId==e.team.teamId?n=this.Unit.hp.addHealth(e.value):this.Unit.team.teamId!=e.team.teamId&&(n=this.Unit.hp.addHealth(-e.value));var i=this.Unit.team.color,a=this.Unit.hp.health/this.Unit.hp.maxHealth,s=o.tween({from:this.fromColor[0],to:i[0],percent:a}),u=o.tween({from:this.fromColor[1],to:i[1],percent:a}),l=o.tween({from:this.fromColor[2],to:i[2],percent:a});return this.Unit.tint=o.rgbToHex(Math.round(s),Math.round(u),Math.round(l)),this.Unit.hp.health>=this.Unit.hp.maxHealth&&(this.Unit.tint=this.Unit.team.tint,this.Unit.baseState=new r.GenerateState(this.Unit,this.Scene)),0!=n.valueUsed&&this.damageEffect(),n},e}(s.BaseState);e.NeutralState=u}});